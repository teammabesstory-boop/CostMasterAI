<Page
    x:Class="CostMasterAI.Views.ReportsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:helpers="using:CostMasterAI.Helpers"
    xmlns:vm="using:CostMasterAI.ViewModels"
    
    mc:Ignorable="d">

    <Page.DataContext>
        <vm:ReportsViewModel/>
    </Page.DataContext>

    <Page.Resources>
        <helpers:BindingProxy x:Key="ViewModelProxy" Data="{Binding}" />
        <helpers:CurrencyConverter x:Key="MoneyConv"/>
        <helpers:DateConverter x:Key="DateConv"/>
        <helpers:PercentageToWidthConv x:Key="PercentageToWidthConv"/>
        <helpers:StringFormatConverter x:Key="StringFmt"/>

        <FontFamily x:Key="RemixIcon">/Assets/remixicon.ttf#remixicon</FontFamily>
        <FontFamily x:Key="AppFont">/Assets/Satoshi-Regular.otf#Satoshi</FontFamily>
        <FontFamily x:Key="AppFontBold">/Assets/Satoshi-Bold.otf#Satoshi</FontFamily>
        <FontFamily x:Key="AppFontMedium">/Assets/Satoshi-Medium.otf#Satoshi</FontFamily>
        <FontFamily x:Key="AppFontBlack">/Assets/Satoshi-Black.otf#Satoshi</FontFamily>

        <Style x:Key="ReportCardStyle" TargetType="Grid" BasedOn="{StaticResource ModernCardStyle}">
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Background" Value="{ThemeResource CardBackgroundBrush}"/>
            <Setter Property="BorderBrush" Value="{ThemeResource CardBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
        </Style>

        <Style x:Key="MetricLabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontFamily" Value="{StaticResource AppFontBold}"/>
            <Setter Property="Foreground" Value="{ThemeResource TextSecondaryBrush}"/>
            <Setter Property="CharacterSpacing" Value="50"/>
        </Style>

        <Style x:Key="MetricValueStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontFamily" Value="{StaticResource AppFontBlack}"/>
            <Setter Property="Foreground" Value="{ThemeResource TextPrimaryBrush}"/>
        </Style>
    </Page.Resources>

    <ScrollViewer Background="{ThemeResource AppBackgroundBrush}" UseLayoutRounding="True">
        <Grid Padding="40">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0" Margin="0,0,0,32">
                <StackPanel Spacing="4">
                    <TextBlock Text="Buku Keuangan" FontSize="32" FontFamily="{StaticResource AppFontBlack}" Foreground="{ThemeResource TextPrimaryBrush}"/>
                    <TextBlock Text="Catat pemasukan dan pengeluaran secara manual." FontSize="16" FontFamily="{StaticResource AppFont}" Foreground="{ThemeResource TextSecondaryBrush}"/>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1" Margin="0,0,0,32" Style="{StaticResource ReportCardStyle}">
                <TabView IsAddTabButtonVisible="False" TabWidthMode="Equal">

                    <TabViewItem Header="Input Manual">
                        <TabViewItem.IconSource>
                            <SymbolIconSource Symbol="Edit"/>
                        </TabViewItem.IconSource>

                        <Grid Padding="0,16,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="0,0,16,0">
                                <TextBlock Text="Jenis" Margin="0,0,0,4" FontSize="12" Foreground="{ThemeResource TextSecondaryBrush}"/>
                                <ComboBox SelectedIndex="{Binding SelectedTypeIndex, Mode=TwoWay}" Width="140" FontFamily="{StaticResource AppFontMedium}">
                                    <ComboBoxItem Content="Pemasukan" Tag="Income"/>
                                    <ComboBoxItem Content="Pengeluaran" Tag="Expense"/>
                                </ComboBox>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Margin="0,0,16,0">
                                <Grid Margin="0,0,0,4">
                                    <TextBlock Text="Keterangan / Item" FontSize="12" Foreground="{ThemeResource TextSecondaryBrush}" VerticalAlignment="Center"/>
                                    <Button x:Name="PickButton" HorizontalAlignment="Right" Padding="6,2" Background="{ThemeResource SubtleBackgroundBrush}" BorderThickness="0" CornerRadius="4" ToolTipService.ToolTip="Ambil dari Database Bahan">
                                        <StackPanel Orientation="Horizontal" Spacing="4">
                                            <FontIcon FontFamily="{StaticResource RemixIcon}" Glyph="&#xed04;" FontSize="12" Foreground="{ThemeResource AccentBrush}"/>
                                            <TextBlock Text="Ambil Bahan" FontSize="10" FontFamily="{StaticResource AppFontBold}" Foreground="{ThemeResource AccentBrush}"/>
                                        </StackPanel>
                                        <Button.Flyout>
                                            <Flyout Placement="Bottom">
                                                <Grid Width="280" Height="300">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>
                                                    <TextBlock Text="Pilih Bahan Baku" FontFamily="{StaticResource AppFontBold}" FontSize="14" Margin="0,0,0,12"/>
                                                    <ListView Grid.Row="1" ItemsSource="{Binding IngredientsList}" IsItemClickEnabled="True" ItemClick="IngredientList_ItemClick" SelectionMode="None">
                                                        <ListView.ItemTemplate>
                                                            <DataTemplate>
                                                                <Grid Padding="8" BorderBrush="{ThemeResource CardBorderBrush}" BorderThickness="0,0,0,1">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="*"/>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <TextBlock Text="{Binding Name}" FontFamily="{StaticResource AppFontMedium}" Foreground="{ThemeResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding PricePerPackage, Converter={StaticResource MoneyConv}}" FontSize="12" Foreground="{ThemeResource TextSecondaryBrush}" VerticalAlignment="Center"/>
                                                                </Grid>
                                                            </DataTemplate>
                                                        </ListView.ItemTemplate>
                                                    </ListView>
                                                </Grid>
                                            </Flyout>
                                        </Button.Flyout>
                                    </Button>
                                </Grid>
                                <TextBox PlaceholderText="Contoh: Belanja Tepung..." Text="{Binding InputNote, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FontFamily="{StaticResource AppFont}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" Margin="0,0,16,0">
                                <TextBlock Text="Nominal (Rp)" Margin="0,0,0,4" FontSize="12" Foreground="{ThemeResource TextSecondaryBrush}"/>
                                <TextBox PlaceholderText="0" Text="{Binding InputAmountText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FontFamily="{StaticResource AppFontMedium}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="3" Margin="0,0,16,0">
                                <TextBlock Text="Tanggal" Margin="0,0,0,4" FontSize="12" Foreground="{ThemeResource TextSecondaryBrush}"/>
                                <CalendarDatePicker Date="{Binding InputDate, Mode=TwoWay}" Width="150" FontFamily="{StaticResource AppFont}"/>
                            </StackPanel>

                            <Button Grid.Column="4" Command="{Binding AddTransactionCommand}" VerticalAlignment="Bottom" Style="{StaticResource PrimaryButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon FontFamily="{StaticResource RemixIcon}" Glyph="&#xEA13;"/>
                                    <TextBlock Text="Simpan" FontFamily="{StaticResource AppFontBold}"/>
                                </StackPanel>
                            </Button>
                        </Grid>
                    </TabViewItem>

                    <TabViewItem Header="Penjualan Produk">
                        <TabViewItem.IconSource>
                            <SymbolIconSource Symbol="Shop"/>
                        </TabViewItem.IconSource>

                        <Grid Padding="0,16,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*"/>
                                <ColumnDefinition Width="1*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="0,0,16,0">
                                <TextBlock Text="Pilih Produk" Margin="0,0,0,4" FontSize="12" Foreground="{ThemeResource TextSecondaryBrush}"/>
                                <ComboBox ItemsSource="{Binding ProductList}" SelectedItem="{Binding SelectedProductToSell, Mode=TwoWay}" 
                                          DisplayMemberPath="Name" HorizontalAlignment="Stretch" FontFamily="{StaticResource AppFontMedium}" PlaceholderText="Pilih Donat..."/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Margin="0,0,16,0">
                                <TextBlock Text="Jumlah (Qty)" Margin="0,0,0,4" FontSize="12" Foreground="{ThemeResource TextSecondaryBrush}"/>
                                <TextBox Text="{Binding SalesQty, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FontFamily="{StaticResource AppFontMedium}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" Margin="0,0,16,0">
                                <TextBlock Text="Harga Deal (Aktual)" Margin="0,0,0,4" FontSize="12" Foreground="{ThemeResource TextSecondaryBrush}"/>
                                <TextBox Text="{Binding SalesActualPrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FontFamily="{StaticResource AppFontBold}"/>
                                <TextBlock Text="Harga paket/diskon" FontSize="10" Foreground="{ThemeResource TextSecondaryBrush}" Margin="0,2,0,0"/>
                            </StackPanel>

                            <StackPanel Grid.Column="3" Margin="0,0,16,0" VerticalAlignment="Center">
                                <TextBlock Text="Potensi (Teori)" FontSize="11" Foreground="{ThemeResource TextSecondaryBrush}"/>
                                <TextBlock Text="{Binding SalesStandardTotal, Converter={StaticResource MoneyConv}}" FontFamily="{StaticResource AppFontBold}" FontSize="14" Foreground="{ThemeResource TextPrimaryBrush}"/>

                                <StackPanel Orientation="Horizontal" Spacing="4" Margin="0,4,0,0">
                                    <TextBlock Text="Selisih:" FontSize="11" Foreground="{ThemeResource DangerBrush}"/>
                                    <TextBlock Text="{Binding SalesVariance}" FontSize="11" FontFamily="{StaticResource AppFontBold}" Foreground="{ThemeResource DangerBrush}"/>
                                </StackPanel>
                            </StackPanel>

                            <Button Grid.Column="4" Command="{Binding SellProductCommand}" VerticalAlignment="Bottom" Margin="0,0,0,12" Background="{ThemeResource SuccessBrush}" BorderThickness="0" Padding="16,8" CornerRadius="6">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon FontFamily="{StaticResource RemixIcon}" Glyph="&#xeb7b;" FontSize="16" Foreground="White"/>
                                    <TextBlock Text="Jual" FontFamily="{StaticResource AppFontBold}" Foreground="White"/>
                                </StackPanel>
                            </Button>
                        </Grid>
                    </TabViewItem>
                </TabView>
            </Grid>

            <Grid Grid.Row="2" ColumnSpacing="24" Margin="0,0,0,32">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0" Style="{StaticResource ReportCardStyle}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="8" Margin="0,0,0,8">
                        <FontIcon FontFamily="{StaticResource RemixIcon}" Glyph="&#xebc6;" Foreground="{ThemeResource AccentBrush}" FontSize="18"/>
                        <TextBlock Text="TOTAL PEMASUKAN" Style="{StaticResource MetricLabelStyle}"/>
                    </StackPanel>
                    <Viewbox Grid.Row="1" StretchDirection="DownOnly" HorizontalAlignment="Left">
                        <TextBlock Text="{Binding TotalRevenue, Converter={StaticResource MoneyConv}}" Style="{StaticResource MetricValueStyle}"/>
                    </Viewbox>
                </Grid>

                <Grid Grid.Column="1" Style="{StaticResource ReportCardStyle}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="8" Margin="0,0,0,8">
                        <FontIcon FontFamily="{StaticResource RemixIcon}" Glyph="&#xf023;" Foreground="{ThemeResource DangerBrush}" FontSize="18"/>
                        <TextBlock Text="TOTAL PENGELUARAN" Style="{StaticResource MetricLabelStyle}"/>
                    </StackPanel>
                    <Viewbox Grid.Row="1" StretchDirection="DownOnly" HorizontalAlignment="Left">
                        <TextBlock Text="{Binding TotalExpense, Converter={StaticResource MoneyConv}}" Style="{StaticResource MetricValueStyle}"/>
                    </Viewbox>
                </Grid>

                <Grid Grid.Column="2" Style="{StaticResource ReportCardStyle}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="8" Margin="0,0,0,8">
                        <FontIcon FontFamily="{StaticResource RemixIcon}" Glyph="&#xef65;" Foreground="{ThemeResource SuccessBrush}" FontSize="18"/>
                        <TextBlock Text="BERSIH (NET)" Style="{StaticResource MetricLabelStyle}"/>
                    </StackPanel>
                    <Viewbox Grid.Row="1" StretchDirection="DownOnly" HorizontalAlignment="Left">
                        <TextBlock Text="{Binding NetProfit, Converter={StaticResource MoneyConv}}" Style="{StaticResource MetricValueStyle}" Foreground="{ThemeResource SuccessBrush}"/>
                    </Viewbox>
                </Grid>

                <Grid Grid.Column="3" Style="{StaticResource ReportCardStyle}" Background="{ThemeResource AccentBrush}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="8" Margin="0,0,0,8">
                        <FontIcon FontFamily="{StaticResource RemixIcon}" Glyph="&#xeb01;" Foreground="White" Opacity="0.8" FontSize="18"/>
                        <TextBlock Text="PROFIT MARGIN" Style="{StaticResource MetricLabelStyle}" Foreground="White" Opacity="0.8"/>
                    </StackPanel>
                    <Viewbox Grid.Row="1" StretchDirection="DownOnly" HorizontalAlignment="Left">
                        <TextBlock Text="{Binding ProfitMarginPercent, Converter={StaticResource StringFmt}, ConverterParameter='{}{0:N1}%'}" 
                                   Style="{StaticResource MetricValueStyle}" Foreground="White"/>
                    </Viewbox>
                    <TextBlock Grid.Row="2" Text="Kesehatan Bisnis" FontSize="11" Foreground="White" Opacity="0.6" Margin="0,4,0,0"/>
                </Grid>
            </Grid>

            <Grid Grid.Row="3" ColumnSpacing="24" Margin="0,0,0,32">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="1.5*"/>
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0" Style="{StaticResource ReportCardStyle}" Height="360">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="12" Margin="0,0,0,24">
                        <TextBlock Text="Grafik Pemasukan (7 Hari)" FontSize="16" FontFamily="{StaticResource AppFontBold}" Foreground="{ThemeResource TextPrimaryBrush}"/>
                    </StackPanel>

                    <ItemsControl Grid.Row="1" ItemsSource="{Binding SalesChartData}" VerticalAlignment="Bottom">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="24"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel VerticalAlignment="Bottom" Spacing="8">
                                    <Border Background="{ThemeResource TextPrimaryBrush}" CornerRadius="4" Padding="6,2" HorizontalAlignment="Center" Opacity="0.8">
                                        <TextBlock Text="{Binding Amount, Converter={StaticResource MoneyConv}}" FontSize="10" Foreground="{ThemeResource AppBackgroundBrush}" FontFamily="{StaticResource AppFontBold}"/>
                                    </Border>
                                    <Grid Width="32" Height="200" VerticalAlignment="Bottom">
                                        <Rectangle Width="32" Height="{Binding Value}" VerticalAlignment="Bottom" RadiusX="4" RadiusY="4" Fill="{ThemeResource AccentBrush}" Opacity="0.9"/>
                                    </Grid>
                                    <TextBlock Text="{Binding Label}" HorizontalAlignment="Center" FontSize="12" Foreground="{ThemeResource TextSecondaryBrush}" FontFamily="{StaticResource AppFontMedium}"/>
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Grid>

                <Grid Grid.Column="1" Style="{StaticResource ReportCardStyle}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" Margin="0,0,0,16">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon FontFamily="{StaticResource RemixIcon}" Glyph="&#xee62;" FontSize="18" Foreground="{ThemeResource TextSecondaryBrush}"/>
                            <TextBlock Text="Riwayat Transaksi" FontSize="16" FontFamily="{StaticResource AppFontBold}" Foreground="{ThemeResource TextPrimaryBrush}"/>
                        </StackPanel>
                    </Grid>

                    <controls:DataGrid Grid.Row="1" ItemsSource="{Binding Transactions}" 
                                       AutoGenerateColumns="False" 
                                       GridLinesVisibility="Horizontal"
                                       IsReadOnly="True"
                                       BorderThickness="0"
                                       RowHeight="44"
                                       FontFamily="{StaticResource AppFontMedium}"
                                       RowBackground="Transparent"
                                       AlternatingRowBackground="Transparent">

                        <controls:DataGrid.Resources>
                            <SolidColorBrush x:Key="DataGridColumnHeaderBackgroundBrush" Color="Transparent"/>
                        </controls:DataGrid.Resources>

                        <controls:DataGrid.Columns>
                            <controls:DataGridTextColumn Header="Tgl" Binding="{Binding Date, Converter={StaticResource DateConv}, ConverterParameter='dd/MM'}" Width="Auto">
                                <controls:DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="{ThemeResource TextSecondaryBrush}"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="Margin" Value="8,0"/>
                                    </Style>
                                </controls:DataGridTextColumn.ElementStyle>
                            </controls:DataGridTextColumn>

                            <controls:DataGridTextColumn Header="Ket" Binding="{Binding Description}" Width="*">
                                <controls:DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="{ThemeResource TextPrimaryBrush}"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
                                        <Setter Property="Margin" Value="8,0"/>
                                    </Style>
                                </controls:DataGridTextColumn.ElementStyle>
                            </controls:DataGridTextColumn>

                            <controls:DataGridTemplateColumn Header="Tipe" Width="Auto">
                                <controls:DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding DisplayType}" Foreground="{Binding StatusColor}" FontWeight="SemiBold" VerticalAlignment="Center" Margin="8,0"/>
                                    </DataTemplate>
                                </controls:DataGridTemplateColumn.CellTemplate>
                            </controls:DataGridTemplateColumn>

                            <controls:DataGridTemplateColumn Header="Nominal" Width="Auto">
                                <controls:DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Margin="8,0" FontWeight="Bold" Foreground="{ThemeResource TextPrimaryBrush}">
                                            <Run Text="{Binding AmountPrefix}" Foreground="{Binding StatusColor}"/>
                                            <Run Text="{Binding TotalAmount, Converter={StaticResource MoneyConv}}"/>
                                        </TextBlock>
                                    </DataTemplate>
                                </controls:DataGridTemplateColumn.CellTemplate>
                            </controls:DataGridTemplateColumn>

                            <controls:DataGridTemplateColumn Width="40">
                                <controls:DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button Command="{Binding Data.DeleteTransactionCommand, Source={StaticResource ViewModelProxy}}" CommandParameter="{Binding}"
                                                Background="Transparent" BorderThickness="0" Padding="4">
                                            <FontIcon FontFamily="{StaticResource RemixIcon}" Glyph="&#xec28;" FontSize="14" Foreground="{ThemeResource TextSecondaryBrush}"/>
                                        </Button>
                                    </DataTemplate>
                                </controls:DataGridTemplateColumn.CellTemplate>
                            </controls:DataGridTemplateColumn>
                        </controls:DataGrid.Columns>
                    </controls:DataGrid>
                </Grid>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>